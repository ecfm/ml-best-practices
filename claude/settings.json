{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup",
        "hooks": [
          {
            "type": "command",
            "command": "cd ~/ml-best-practices && git pull --quiet 2>/dev/null || true"
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$NTFY_TOPIC\" ]; then title=$(echo \"$CLAUDE_NOTIFICATION\" | head -c 100); curl -s -d \"$title\" \"ntfy.sh/$NTFY_TOPIC\" >/dev/null 2>&1; fi"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.file_path // empty'); if [ -n \"$file\" ] && echo \"$file\" | grep -q '\\.py$'; then ruff format --quiet \"$file\" 2>/dev/null || true; fi"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); model=$(echo \"$input\" | jq -r '.model.display_name'); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); used_pct=$(echo \"$input\" | jq -r '.context_window.used_percentage // empty'); git_branch=\"\"; if git -C \"$cwd\" rev-parse --git-dir >/dev/null 2>&1; then branch=$(git -C \"$cwd\" --no-optional-locks branch --show-current 2>/dev/null); [ -n \"$branch\" ] && git_branch=\" $(printf '\\033[32m')($branch)$(printf '\\033[0m')\"; fi; dir_name=$(basename \"$cwd\"); printf '\\033[36m%s\\033[0m in \\033[34m%s\\033[0m%s' \"$model\" \"$dir_name\" \"$git_branch\"; [ -n \"$used_pct\" ] && printf ' \\033[33m[ctx: %.0f%%]\\033[0m' \"$used_pct\"; echo"
  },
  "theme": "dark"
}
